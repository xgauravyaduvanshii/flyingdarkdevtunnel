<svg width="1400" height="560" viewBox="0 0 1400 560" fill="none" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Tunnel sequence flow">
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="1400" y2="560" gradientUnits="userSpaceOnUse">
      <stop offset="0" stop-color="#F8FAFC"/>
      <stop offset="1" stop-color="#E2E8F0"/>
    </linearGradient>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="4" orient="auto">
      <path d="M0,0 L8,4 L0,8 Z" fill="#1E293B"/>
    </marker>
  </defs>

  <rect width="1400" height="560" fill="url(#bg)"/>
  <text x="42" y="54" fill="#0F172A" font-family="Segoe UI, Arial, sans-serif" font-size="34" font-weight="700">Tunnel Request Sequence</text>
  <text x="42" y="86" fill="#334155" font-family="Segoe UI, Arial, sans-serif" font-size="18">Runtime request/response travel across Internet, relay, agent, and local app.</text>

  <rect x="66" y="120" width="220" height="54" rx="12" fill="#22C55E"/>
  <text x="105" y="154" fill="#F0FDF4" font-family="Segoe UI, Arial, sans-serif" font-size="22" font-weight="700">End User</text>

  <rect x="382" y="120" width="220" height="54" rx="12" fill="#0EA5E9"/>
  <text x="447" y="154" fill="#F0F9FF" font-family="Segoe UI, Arial, sans-serif" font-size="22" font-weight="700">Relay</text>

  <rect x="698" y="120" width="220" height="54" rx="12" fill="#F97316"/>
  <text x="764" y="154" fill="#FFF7ED" font-family="Segoe UI, Arial, sans-serif" font-size="22" font-weight="700">Agent</text>

  <rect x="1014" y="120" width="220" height="54" rx="12" fill="#6366F1"/>
  <text x="1059" y="154" fill="#EEF2FF" font-family="Segoe UI, Arial, sans-serif" font-size="22" font-weight="700">Local App</text>

  <line x1="176" y1="180" x2="176" y2="512" stroke="#94A3B8" stroke-width="2" stroke-dasharray="8 6"/>
  <line x1="492" y1="180" x2="492" y2="512" stroke="#94A3B8" stroke-width="2" stroke-dasharray="8 6"/>
  <line x1="808" y1="180" x2="808" y2="512" stroke="#94A3B8" stroke-width="2" stroke-dasharray="8 6"/>
  <line x1="1124" y1="180" x2="1124" y2="512" stroke="#94A3B8" stroke-width="2" stroke-dasharray="8 6"/>

  <line x1="186" y1="230" x2="482" y2="230" stroke="#1E293B" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="220" y="221" fill="#0F172A" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="600">1) HTTPS request to public URL</text>

  <line x1="502" y1="280" x2="798" y2="280" stroke="#1E293B" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="534" y="271" fill="#0F172A" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="600">2) Relay forwards through active tunnel session</text>

  <line x1="818" y1="330" x2="1114" y2="330" stroke="#1E293B" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="856" y="321" fill="#0F172A" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="600">3) Agent sends to local target</text>

  <line x1="1114" y1="394" x2="818" y2="394" stroke="#475569" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="860" y="384" fill="#334155" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="600">4) Local response</text>

  <line x1="798" y1="440" x2="502" y2="440" stroke="#475569" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="564" y="430" fill="#334155" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="600">5) Agent returns response</text>

  <line x1="482" y1="486" x2="186" y2="486" stroke="#475569" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="244" y="476" fill="#334155" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="600">6) Relay returns to user</text>

  <rect x="418" y="206" width="148" height="50" rx="8" fill="#E0F2FE" stroke="#38BDF8"/>
  <text x="436" y="228" fill="#0C4A6E" font-family="Segoe UI, Arial, sans-serif" font-size="13" font-weight="700">Policy Checks</text>
  <text x="436" y="244" fill="#075985" font-family="Segoe UI, Arial, sans-serif" font-size="11">auth/IP/host/concurrency</text>
</svg>
