<svg width="1200" height="760" viewBox="0 0 1200 760" fill="none" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Edge policy decision flow">
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="1200" y2="760" gradientUnits="userSpaceOnUse">
      <stop offset="0" stop-color="#F8FAFC"/>
      <stop offset="1" stop-color="#E2E8F0"/>
    </linearGradient>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="4" orient="auto">
      <path d="M0,0 L8,4 L0,8 Z" fill="#1E293B"/>
    </marker>
  </defs>

  <rect width="1200" height="760" fill="url(#bg)"/>
  <text x="44" y="56" fill="#0F172A" font-family="Segoe UI, Arial, sans-serif" font-size="34" font-weight="700">Relay Policy Decision Flow</text>

  <rect x="478" y="90" width="244" height="62" rx="12" fill="#0EA5E9"/>
  <text x="528" y="129" fill="#F0F9FF" font-family="Segoe UI, Arial, sans-serif" font-size="22" font-weight="700">Inbound Request</text>

  <rect x="448" y="192" width="304" height="74" rx="16" fill="#FFFFFF" stroke="#94A3B8" stroke-width="2"/>
  <text x="512" y="236" fill="#0F172A" font-family="Segoe UI, Arial, sans-serif" font-size="20" font-weight="700">Host Mapped?</text>

  <rect x="448" y="304" width="304" height="74" rx="16" fill="#FFFFFF" stroke="#94A3B8" stroke-width="2"/>
  <text x="494" y="348" fill="#0F172A" font-family="Segoe UI, Arial, sans-serif" font-size="20" font-weight="700">TLS Mode Allowed?</text>

  <rect x="448" y="416" width="304" height="74" rx="16" fill="#FFFFFF" stroke="#94A3B8" stroke-width="2"/>
  <text x="476" y="460" fill="#0F172A" font-family="Segoe UI, Arial, sans-serif" font-size="20" font-weight="700">Auth / IP Policy Pass?</text>

  <rect x="448" y="528" width="304" height="74" rx="16" fill="#FFFFFF" stroke="#94A3B8" stroke-width="2"/>
  <text x="454" y="572" fill="#0F172A" font-family="Segoe UI, Arial, sans-serif" font-size="20" font-weight="700">Concurrency Within Limit?</text>

  <rect x="486" y="652" width="228" height="64" rx="12" fill="#22C55E"/>
  <text x="532" y="692" fill="#F0FDF4" font-family="Segoe UI, Arial, sans-serif" font-size="24" font-weight="700">Forward âœ…</text>

  <line x1="600" y1="152" x2="600" y2="182" stroke="#1E293B" stroke-width="3" marker-end="url(#arrow)"/>
  <line x1="600" y1="266" x2="600" y2="294" stroke="#1E293B" stroke-width="3" marker-end="url(#arrow)"/>
  <line x1="600" y1="378" x2="600" y2="406" stroke="#1E293B" stroke-width="3" marker-end="url(#arrow)"/>
  <line x1="600" y1="490" x2="600" y2="518" stroke="#1E293B" stroke-width="3" marker-end="url(#arrow)"/>
  <line x1="600" y1="602" x2="600" y2="642" stroke="#1E293B" stroke-width="3" marker-end="url(#arrow)"/>

  <rect x="130" y="207" width="210" height="56" rx="12" fill="#F43F5E"/>
  <text x="188" y="242" fill="#FFF1F2" font-family="Segoe UI, Arial, sans-serif" font-size="20" font-weight="700">404</text>
  <line x1="448" y1="229" x2="350" y2="229" stroke="#334155" stroke-width="2.5" marker-end="url(#arrow)"/>
  <text x="394" y="220" fill="#334155" font-family="Segoe UI, Arial, sans-serif" font-size="13">No</text>

  <rect x="860" y="319" width="210" height="56" rx="12" fill="#FB7185"/>
  <text x="918" y="354" fill="#FFF1F2" font-family="Segoe UI, Arial, sans-serif" font-size="20" font-weight="700">421</text>
  <line x1="752" y1="341" x2="850" y2="341" stroke="#334155" stroke-width="2.5" marker-end="url(#arrow)"/>
  <text x="764" y="332" fill="#334155" font-family="Segoe UI, Arial, sans-serif" font-size="13">No</text>

  <rect x="130" y="431" width="210" height="56" rx="12" fill="#FB7185"/>
  <text x="188" y="466" fill="#FFF1F2" font-family="Segoe UI, Arial, sans-serif" font-size="20" font-weight="700">401/403</text>
  <line x1="448" y1="453" x2="350" y2="453" stroke="#334155" stroke-width="2.5" marker-end="url(#arrow)"/>
  <text x="392" y="444" fill="#334155" font-family="Segoe UI, Arial, sans-serif" font-size="13">No</text>

  <rect x="860" y="543" width="210" height="56" rx="12" fill="#FB7185"/>
  <text x="926" y="578" fill="#FFF1F2" font-family="Segoe UI, Arial, sans-serif" font-size="20" font-weight="700">429</text>
  <line x1="752" y1="565" x2="850" y2="565" stroke="#334155" stroke-width="2.5" marker-end="url(#arrow)"/>
  <text x="764" y="556" fill="#334155" font-family="Segoe UI, Arial, sans-serif" font-size="13">No</text>

  <text x="610" y="220" fill="#334155" font-family="Segoe UI, Arial, sans-serif" font-size="13">Yes</text>
  <text x="610" y="332" fill="#334155" font-family="Segoe UI, Arial, sans-serif" font-size="13">Yes</text>
  <text x="610" y="444" fill="#334155" font-family="Segoe UI, Arial, sans-serif" font-size="13">Yes</text>
  <text x="610" y="556" fill="#334155" font-family="Segoe UI, Arial, sans-serif" font-size="13">Yes</text>
</svg>
